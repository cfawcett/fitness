{{ block "header" . }}{{ end }}

<div class="flex h-screen bg-zinc-900 text-zinc-200 md:ml-64">
    <main id="content" class="flex-1 overflow-y-auto {{ if .ActiveWorkoutID }}pb-32 md:pb-20{{ else }}pb-24 md:pb-8{{ end }}">

        <div class="border-b border-cyan-500 bg-zinc-800 text-white shadow-sm md:hidden">
            <div class="mx-auto max-w-4xl px-4 py-6">
                <div class="flex items-center space-x-4">
                    <img class="h-16 w-16 rounded-full border-4 border-cyan-700" src="{{ .User.ProfilePictureUrl}}" alt="Profile"/>
                    <div>
                        <h1 class="text-2xl font-bold text-white">Welcome back, {{ .User.FirstName }}!</h1>
                        <p class="text-white">Ready for your next workout?</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="mx-auto max-w-5xl px-4 py-8 sm:px-6 lg:px-8">

            <div class="mb-8 rounded-xl border border-cyan-700 bg-zinc-800 p-6 shadow-sm">
                <h2 class="mb-4 text-lg font-semibold text-white">Quick Actions</h2>
                <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
                    <button hx-post="/workouts/new" class="flex items-center justify-center rounded-lg bg-cyan-700 p-4 text-white shadow-lg transition-all duration-200 hover:scale-105 hover:bg-cyan-800">
                        <svg class="mr-3 h-6 w-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                        <span class="font-semibold">Start New Workout</span>
                    </button>
                    <button class="flex items-center justify-center rounded-lg bg-cyan-700 p-4 text-white shadow-lg transition-all duration-200 hover:scale-105 hover:bg-cyan-800">
                        <svg class="mr-3 h-6 w-6 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                        <span class="font-semibold">Track Run</span>
                    </button>
                </div>
            </div>

            <div class="rounded-xl border border-cyan-700 bg-zinc-800 shadow-sm">
                <div class="border-b border-cyan-700 p-6">
                    <h2 class="text-lg font-semibold text-white">Recent Workouts</h2>
                    <p class="mt-1 text-sm text-zinc-200">Your latest fitness activities</p>
                </div>
                <div>
                    {{ if .ActivityList }}
                        <div class="divide-y divide-cyan-700/40 md:hidden">
                            {{ range .ActivityList }}
                                <a href="/workouts/{{ .ID }}" class="block p-6 transition-colors duration-150 hover:bg-zinc-700">
                                    <div class="flex items-center justify-between">
                                    </div>
                                </a>
                            {{ end }}
                        </div>
                        <div class="hidden space-y-4 p-4 md:block">
                            {{ range .ActivityList }}
                                <a href="/workouts/{{ .ID }}" class="block rounded-lg border border-cyan-700/40 bg-zinc-900/50 p-4 transition-colors duration-150 hover:bg-zinc-700/60">
                                    <div class="flex items-center justify-between gap-4">
                                    </div>
                                </a>
                            {{ end }}
                        </div>
                    {{ else }}
                        <div class="p-6 text-center text-zinc-400">
                            <button hx-post="/workouts/new" class="mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-zinc-700 transition-colors hover:bg-zinc-600">
                                <svg class="h-8 w-8 text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                </svg>
                            </button>
                            <h3 class="mb-2 text-sm font-medium text-white">No workouts yet</h3>
                            <p class="mb-4 text-sm">Start your fitness journey by creating your first workout.</p>
                            <button hx-post="/workouts/new" class="inline-flex items-center rounded-md border border-cyan-500 bg-cyan-700 px-4 py-2 font-medium text-white hover:bg-cyan-800">
                                Start Your First Workout
                            </button>
                        </div>
                    {{ end }}
                </div>
            </div>
        </div>
    </main>
</div>

{{ if .ActiveWorkoutID }}
    <div class="fixed bottom-28 left-4 right-4 z-50 md:bottom-0 md:left-64 md:right-0 md:rounded-none">
        <div class="mx-auto flex w-full items-center gap-4 rounded-xl border border-cyan-700 bg-zinc-800 px-6 py-4 text-white shadow-lg md:rounded-none md:border-r-0 md:border-b-0">
            <svg class="mr-2 h-8 w-8 shrink-0 text-cyan-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z" /></svg>
            <div class="min-w-0 flex-1">
                <p class="truncate font-semibold">You have an active workout in progress.</p>
            </div>
            <a href="/workouts/{{ .ActiveWorkoutID }}/edit" class="ml-auto inline-flex shrink-0 items-center rounded-md border border-cyan-700 bg-cyan-700 px-4 py-2 font-semibold text-white shadow transition-colors hover:bg-cyan-600">Return</a>
            <form method="POST" action="/activity/{{ .ActiveWorkoutID }}/discard" hx-post="/activity/{{ .ActiveWorkoutID }}/discard" hx-target="body">
                <button type="submit" class="inline-flex shrink-0 items-center rounded-md border border-red-600 bg-red-600 px-4 py-2 font-semibold text-white shadow transition-colors hover:bg-red-700">Discard</button>
            </form>
        </div>
    </div>
{{ end }}

{{ block "navbar" . }}{{ end }}